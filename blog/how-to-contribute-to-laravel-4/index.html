<!doctype html>
<html lang="en">
<head>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Site info -->
    <title>Dries Vints</title>

    
            <meta property="article:published_time" content="2013-04-14T13:46" />
    
    <!-- Favicons -->
    <meta name="msapplication-TileColor" content="#2F3238">
    <meta name="msapplication-TileImage" content="/images/touch-icon-144×144-precomposed.png'">
    <link rel="apple-touch-icon-precomposed" sizes="152×152" href="/images/touch-icon-152×152-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144×144" href="/images/touch-icon-144×144-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120×120" href="/images/touch-icon-120×120-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114×114" href="/images/touch-icon-114×114-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72×72" href="/images/touch-icon-72×72-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" href="/images/touch-icon-iphone-precomposed.png" />
    <link rel="icon" sizes="32x32" href="/images/favicon-32.png">
    <link rel="shortcut icon" href="/images/favicon.ico">

    <!-- Stylsheets -->
    <link media="all" type="text/css" rel="stylesheet" href='//fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic|Source+Code+Pro:400,700'>
    <link media="all" type="text/css" rel="stylesheet" href="/css/app.css">

            <!-- Google Analytics -->
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-18478762-2']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </head>
<body>

<div id="content">
    <h1>How to contribute to Laravel 4</h1>

    <blockquote>
<p>Laravel has released their official contributing guide which makes the one below obsolete. Please refer to <a href="http://laravel.com/docs/4.2/contributions">the official one</a> instead of this one.</p>
</blockquote>
<p>So you have a pull request (PR) you want to make to <a href="https://github.com/laravel/framework">the Laravel 4 Framework repository</a> but don't really know how to start? I know I was quite lost at first on which steps I should take and learned in good time that sometimes you might want to think about a few points before submitting that PR. I’ll go over each step to submit a successful issue or pull request to the Laravel 4 repo and help you contribute to the framework.<!--more--></p>
<p><strike>Before we begin I really recommend you check out <a href="https://tutsplus.com/lesson/contributing-to-the-framework/">this video</a> by <strong><a href="https://twitter.com/jeffrey_way">Jeffrey Way</a></strong> which goes over the basic steps of submitting a pull request to Laravel 4.</strike></p>
<p><strong>Update:</strong> Seems like Jeffrey's video is no longer available for free on Nettuts.</p>
<h2>Make sure it’s a framework bug</h2>
<p>This is the first step and by far the most overlooked one. Some times, a bug you’re experiencing isn’t necessarily related to the framework itself. There could be a 3rd party plugin or package involved, some of your own code could trigger the issue, your web host could be the problem,… there are tons of reasons why the bug at hand could be triggered.</p>
<p>Often enough, the reason behind a bug is an update to one of these 3rd party plugins or packages and your code breaks because it’s not compatible anymore. In a lot of cases, <a href="https://github.com/laravel/framework/issues/598">people get issues from a composer update</a> because <a href="https://github.com/laravel/framework/issues/708">they forgot to update their client side Laravel installation</a>.</p>
<p>A good way to keep your client side up to date is to clone it from Github and use the Laravel client side repo as an upstream branch instead of downloading it. If this is not entirely clear to you I suggest you read <a href="http://niallobrien.me/2013/03/installing-and-updating-laravel-4/">this awesome post</a> from <strong><a href="https://twitter.com/niall_obrien">Niall O’Brien</a></strong> about installing and updating Laravel 4.</p>
<p>Something that people often neglect to do is actually read the error message they get from a bug. Read the error message because the answer could be hidden in it.</p>
<p>Always do your research properly before clicking the issue button.</p>
<h2>Is the new feature actually necessary?</h2>
<p>Something that I also see a lot is people trying to improve the framework in ways where it is not needed. Always think twice about the feature you’re requesting or the improvement you’re proposing. Perhaps a 3rd party package already solved a problem?</p>
<p>A framework shouldn’t be able to do everything. It should be a basic layer on which you can build your own functionality or extend it with 3rd party libraries (packages). A framework should be fast and as easy to use as possible.</p>
<p>In the end, it’s up to <strong><a href="https://twitter.com/taylorotwell">Taylor</a></strong> to decide what’s best for Laravel and what functionality goes into the framework.</p>
<h2>Search the issue queue before posting</h2>
<p>Always search <a href="https://github.com/laravel/framework/issues">the issue queue on Github</a> before posting your issue. It could be that someone already mentioned the issue. If so, help them prove their statement by verifying that you’re experiencing the same problem.</p>
<p>When you’re submitting a proposal for a feature, make sure that nobody asked for the feature before you and got it rejected. People always get annoyed if their suggestion stumbles on a simple no or is just plainly closed but it could be that it has been suggested a few times before and that you just should have done your research.</p>
<p>Should you still be convinced that the improvement would make a valid addition to the framework, then make sure you state your case better than the ones before you and try to say as best you could why the improvement is (still) needed, preferably with a few use cases. It’s also a good idea to have these discussions in <a href="http://laravel.io/forum">the Laravel forum</a> first before opening a new issue.</p>
<h2>Preparing your issue</h2>
<p>When you’re writing your issue title and description try to be as thorough as possible. Always try to sum up your issue description in a descriptive title of less than 50 characters. People should be able to figure out more or less what your issue is about by glimpsing your title quickly.</p>
<p>For bug reports, please provide as many code as possible. Give some OS specs, which php version you’re using, which database system you’re using, etc… Try to cover your code step by step and post the issue stack from an error page if you’re getting one. Often enough, the issue can be derived from the issue stack on the error page so try reading it before posting an issue. You can also use <a href="http://laravel.io/bin">laravel.io/bin</a> to post all of your code if you feel that the code blocks in the issue description are getting too long.</p>
<p>If you feel that you found a way to solve a bug then you can do two things. If it’s a minor one-line documentation edit you can just use Github to edit the file and submit the PR like that. Otherwise you’ll need to fork the repo and make a separate bug-fix branch. We’ll go over that in a minute.</p>
<p>When you want to get a new feature into Laravel you have 2 choices: propose a feature or request a feature.</p>
<p>If you’re proposing a feature you intend to implement yourself, you should create a Github issue with [Proposal] in the title. Try to be as descriptive as possible on what you’re trying to improve, how it will help users (use cases!) and how you plan to implement it into the framework. If your proposal gets approved by Taylor, you can go ahead and create an implementation and submit a Pull Request. Don’t forget that it’s always possible that Taylor will go ahead and implement it himself if he feels he already found a (better) way to do so. Don’t let it discourage you though! You just proposed a valid feature for Laravel 4 and should be proud on that :)</p>
<p>Else if you’re just requesting a feature but don’t plan on implementing it yourself you should create an issue with [Request] in the title. Again, like a proposal, try to tell how it would improve the framework and provide some use cases.</p>
<p>If you just wanted to file a bug report or request a feature you’re done now! If your proposed feature got approved or want to fix a large bug, read on!</p>
<h2>Forking the repository and setting up your development repo</h2>
<p>The next step should be forking the repository to your personal Github account. Just click the button on the right about that says “fork” and choose one of your Github accounts/organisations to fork the repo to.</p>
<p>When it’s done forking the repo, clone the repository to your local development machine.</p>
<pre><code class="language-bash">$ git clone &lt;github url to your cloned repo&gt; &lt;local directory to clone to&gt;</code></pre>
<p>Next, let’s create a separate branch to work on. If it’s a bug fix, prefix it to <code>bugfix/</code>. If it’s a proposed feature, prefix it to <code>feature/</code>.</p>
<pre><code class="language-bash">$ git checkout -b prefix/short-descriptive-title</code></pre>
<p>When your branch is set up, let’s run a composer update to install the required packages for the framework.</p>
<pre><code class="language-bash">$ composer update --dev</code></pre>
<p>Notice that I’m adding <code>--dev</code>. This is necessary to pull in packages that are required for development (like Mockery for unit testing).</p>
<p>We’re now all set to begin our work.</p>
<h2>Implementing the bug-fix or feature</h2>
<p>Now that we’ve got a separate branch set up let’s start writing our bug-fix or feature.</p>
<p>Before you commit anything you should try to run PHPUnit to make sure the unit tests written for the framework aren’t failing. It makes sure you don’t break any previous implementations. You can run PHPUnit from the root of the framework to run the unit tests. Now there’s a slight problem for small memory machines. There are a lot of unit tests written for Laravel 4 and it takes some time before they all get processed. I’ve seen unit tests for Laravel 4 take up until 15 minutes on a Travis build. You might get some memory alloc failures when trying to run your unit tests. Don’t worry, I’m gonna show you a neat trick in the next step so you can still run your unit tests without having to worry about installing PHPUnit or running it on your dev machine.</p>
<p>If you’re implementing a feature or fixing a bug never forget to check if it affects changes to the client side as well. If it does, try to reference the pull request that goes alongside in the <a href="https://github.com/laravel/laravel/tree/develop">laravel/laravel</a> repo on Github in your pull request on <a href="https://github.com/laravel/framework">laravel/framework</a>.</p>
<p>When you’re done with implementing, commit your changes (or commit it in pieces if it’s a rather large feature). Before you commit your changes, make sure your code adheres to the <a href="https://github.com/laravel/framework/blob/master/CONTRIBUTING.md#coding-guidelines">the Laravel coding standards</a>. Also, if you’re fixing an issue which is in the Github issue queue, reference it in the commit title by saying: <code>Fixes #XX</code> (with <code>#XX</code> being changed to the actual issue number, of course). This will make sure the issue gets automatically closed when your pull request gets accepted.</p>
<p>Didn’t forget to write your unit tests? Good! Let’s proceed.</p>
<h2>Setting up Travis-ci with your forked repo</h2>
<p>This is something I don’t think much people know that they can do before submitting their Pull Request. <a href="https://travis-ci.org">Travis-ci</a> is a free continuous integration service which runs a <code>.travis.yml</code> configuration file in your project and basically runs all your unit tests. It sends you an e-mail notification on wether your builds have failed, passed or didn’t finish for some reason. This means there’s a better chance at catching bugs before the pull request will be made. You don’t have to do a thing but push to your forked repo and Travis will automatically start a new build. Just wait for the e-mail notification or check on <a href="https://travis-ci.org">travis-ci.org</a> if your build has finished to know if your unit tests failed or succeeded.</p>
<p>Now how do you set it up with your forked repo? It’s pretty easy actually. Go to <a href="https://travis-ci.org/profile">travis-ci.org/profile</a>, set Travis to “ON” for your forked repo and click on the wrench icon next to it. Travis will automatically set up a service hook in your Github repo’s settings. Whenever you push to Github or publish a branch, Travis will start a new build and send you an e-mail notification when it’s finished.</p>
<p>Should your build fail you can create new commits until you've fixed the problems and your tests pass. When you're finished with the pull request and all tests return green you can squash your commits with git interactive rebasing. There's <a href="http://git-scm.com/book/en/Git-Tools-Rewriting-History">a great article</a> on it on the official Git website.</p>
<p>Remember that we still didn't submit the Pull Request up until now. That's the next step!</p>
<h2>Submitting the Pull Request</h2>
<p>So you’ve written your code, run your unit tests and you’re good to go to submit your pull request. Proceed to your forked repo on Github, select the branch you’ve worked on and hit the button “Pull Request”.</p>
<p>Now, depending what you're submitting a fix for you'll need to select the correct branch to send the PR to. <strong>ALL</strong> bug fixes should be submitted to the <strong>4.x branch</strong> to which they belong. If you're creating an entire new feature your best bet is to submit it to the <strong>master</strong> branch. Check out <a href="https://github.com/laravel/framework/blob/master/CONTRIBUTING.md#which-branch">the guidelines for choosing the correct branch</a>.</p>
<p>Set a descriptive title (optionally with <code>Fixes #XX</code> again), create a description which details the bug you’re fixing or the feature you’re implementing and go ahead and submit your Pull Request.</p>
<h2>Update your Pull Request (optional)</h2>
<p>During the time that you submit your PR and it gets accepted (or closed), Taylor (or others) can suggest further improvements for the PR. If so, you should try to write some new code, commit it again and push to the branch you’ve created the PR from. The PR will automatically be updated with the latest changes. You might have to do this a couple of times before the PR gets accepted.</p>
<h2>Cleaning up</h2>
<p>You’re all done and your Pull Request was finally accepted and merged into the master branch. Congratulations, you’ve now successfully contributed to Laravel!</p>
<p>You can now go to your local repo and do the following. First, add the Laravel Github repo as a remote:</p>
<pre><code class="language-bash">$ git remote add upstream https://github.com/laravel/framework.git</code></pre>
<p>Next, checkout to the master branch, pull from the latest changes into your own master branch and update your forked repo on Github by pushing to the master branch.</p>
<pre><code class="language-bash">$ git checkout master
$ git pull upstream master
$ git push origin master</code></pre>
<p>We won’t be needing the branch anymore on which we created the feature or fixed the bug so let’s delete them on the forked repo and locally.</p>
<pre><code class="language-bash">$ git push origin :prefix/short-descriptive-title
$ git branch -d prefix/short-descriptive-title</code></pre>
<p>Now we’re all set. Next time you need to create a new feature, pull the latest changes in from the Laravel repo master branch and only then create your feature branch. This makes sure you have the latest changes when you start building your pull request.</p>
<p>Should your PR get closed rather than accepted, don’t think of it as a negative point. See if Taylor provided a reason, learn from what you did wrong or why he decided not to accept it and the next time you will be able to submit a better one. Everyone who wants to become better at submitting Pull Requests goes through this. You can only learn from these experiences and improve yourself as a developer. The next time you submit a PR you’ll be that much wiser from your last experience.</p>
<h2>Thanks for reading</h2>
<p>Thank you for reading through this insanely long post!</p>
<p>I hope I helped you by providing the steps of successfully submitting a PR to Laravel 4 and by providing a few tips in the process. If you have any further questions or remarks feel free to contact me on twitter: <a href="https://twitter.com/driesvints">@driesvints</a>.</p>
<p>I also send out a weekly newsletter called <a href="http://laravelweekly.com">Laravel Weekly</a> which contains weekly news, resources, events and much more. Feel free to check it out!</p></div>

<script src="/js/all.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
